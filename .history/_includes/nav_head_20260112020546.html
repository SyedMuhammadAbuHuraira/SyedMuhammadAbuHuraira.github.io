<header class="academic-header" role="banner">
    <div class="header-container">
        <!-- Logo/Name with Gradient Stroke -->
        <div class="header-brand">
            <a href="/" class="brand-link" aria-label="Homepage">
                <div class="brand-wrapper">
                    <div class="metallic-stroke"></div>
                    <span class="brand-name">Dr. Jordan Terry</span>
                    <span class="brand-title">AI Research â€¢ RL Infrastructure</span>
                </div>
            </a>
        </div>

        <!-- Desktop Navigation -->
        <nav class="desktop-nav" role="navigation" aria-label="Main navigation">
            <!-- Thin Metallic Line Separator -->
            <div class="nav-separator"></div>
            
            <div class="nav-links">
                <a href="/cv" class="nav-link" data-hover="academic">
                    <svg class="nav-icon" viewBox="0 0 24 24">
                        <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                        <path d="M2 7V17L12 22L22 17V7" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    </svg>
                    <span>Academic CV</span>
                    <div class="nav-underline"></div>
                </a>
                
                <a href="/academic-works" class="nav-link" data-hover="works">
                    <svg class="nav-icon" viewBox="0 0 24 24">
                        <path d="M4 19.5V4.5C4 3.67157 4.67157 3 5.5 3H19.5C20.3284 3 21 3.67157 21 4.5V19.5C21 20.3284 20.3284 21 19.5 21H5.5C4.67157 21 4 20.3284 4 19.5Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                        <path d="M8 7H16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M8 12H16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M8 17H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <span>Publications</span>
                    <div class="nav-underline"></div>
                </a>
            </div>
        </nav>

        <!-- Social Media & Theme Controls -->
        <div class="header-controls">
            <!-- Social Media Toggle (Desktop) -->
            <div class="social-toggle">
                <button class="social-toggle-btn" aria-label="Toggle social media links" aria-expanded="false">
                    <svg class="toggle-icon" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 6 12 2Z" 
                              stroke="currentColor" stroke-width="1.5" fill="none"/>
                        <path d="M8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12" 
                              stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <circle cx="12" cy="8" r="1" fill="currentColor"/>
                    </svg>
                    <span class="toggle-text">Connect</span>
                </button>
                
                <!-- Social Media Dropdown -->
                <div class="social-dropdown" aria-hidden="true">
                    <div class="social-grid">
                        <a href="{{site.github}}" class="social-link" aria-label="GitHub" data-platform="github">
                            <i class="fab fa-github"></i>
                            <span>GitHub</span>
                        </a>
                        <a href="{{site.google-scholar}}" class="social-link" aria-label="Google Scholar" data-platform="scholar">
                            <i class="fas fa-graduation-cap"></i>
                            <span>Scholar</span>
                        </a>
                        <a href="{{site.linkedin}}" class="social-link" aria-label="LinkedIn" data-platform="linkedin">
                            <i class="fab fa-linkedin"></i>
                            <span>LinkedIn</span>
                        </a>
                        <a href="{{site.bluesky}}" class="social-link" aria-label="Bluesky" data-platform="bluesky">
                            <i class="fas fa-feather"></i>
                            <span>Bluesky</span>
                        </a>
                        <a href="{{site.twitter}}" class="social-link" aria-label="X (Twitter)" data-platform="twitter">
                            <i class="fab fa-twitter"></i>
                            <span>X</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Theme Toggle -->
            <button class="theme-toggle" aria-label="Toggle dark/light mode">
                <svg class="sun-icon" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    <path d="M12 1V3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M12 21V23" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M4.22 4.22L5.64 5.64" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M18.36 18.36L19.78 19.78" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M1 12H3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M21 12H23" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M4.22 19.78L5.64 18.36" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M18.36 5.64L19.78 4.22" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <svg class="moon-icon" viewBox="0 0 24 24">
                    <path d="M21 12.79C20.8427 14.492 20.2039 16.1144 19.1582 17.4668C18.1125 18.8192 16.7035 19.8458 15.0957 20.4265C13.4879 21.0073 11.748 21.1181 10.0795 20.7461C8.41104 20.3741 6.88299 19.5345 5.67422 18.3258C4.46545 17.117 3.62594 15.589 3.2539 13.9205C2.88186 12.252 2.99274 10.5121 3.57348 8.9043C4.15423 7.29651 5.18085 5.8875 6.53323 4.84182C7.88561 3.79615 9.50799 3.15731 11.21 3C10.2134 4.34827 9.73385 6.00945 9.85856 7.68141C9.98328 9.35338 10.7039 10.9251 11.8894 12.1106C13.0749 13.2961 14.6466 14.0167 16.3186 14.1414C17.9906 14.2662 19.6517 13.7866 21 12.79Z" 
                          stroke="currentColor" stroke-width="1.5" fill="none"/>
                </svg>
            </button>

            <!-- Mobile Hamburger Menu -->
            <button class="hamburger" aria-label="Open mobile menu" aria-expanded="false">
                <div class="hamburger-box">
                    <div class="hamburger-inner"></div>
                </div>
            </button>
        </div>

        <!-- Mobile Menu Overlay -->
        <div class="mobile-menu" aria-hidden="true">
            <div class="mobile-menu-content">
                <div class="mobile-header">
                    <div class="mobile-brand">Navigation</div>
                    <button class="mobile-close" aria-label="Close menu">
                        <svg viewBox="0 0 24 24">
                            <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
                
                <nav class="mobile-nav">
                    <a href="/" class="mobile-nav-link" data-theme="home">
                        <svg class="mobile-nav-icon" viewBox="0 0 24 24">
                            <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" 
                                  stroke="currentColor" stroke-width="1.5" fill="none"/>
                        </svg>
                        <span>Home</span>
                    </a>
                    
                    <a href="/cv" class="mobile-nav-link" data-theme="cv">
                        <svg class="mobile-nav-icon" viewBox="0 0 24 24">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                            <path d="M2 7V17L12 22L22 17V7" stroke="currentColor" stroke-width="1.5" fill="none"/>
                        </svg>
                        <span>Academic CV</span>
                    </a>
                    
                    <a href="/academic-works" class="mobile-nav-link" data-theme="works">
                        <svg class="mobile-nav-icon" viewBox="0 0 24 24">
                            <path d="M4 19.5V4.5C4 3.67157 4.67157 3 5.5 3H19.5C20.3284 3 21 3.67157 21 4.5V19.5C21 20.3284 20.3284 21 19.5 21H5.5C4.67157 21 4 20.3284 4 19.5Z" 
                                  stroke="currentColor" stroke-width="1.5" fill="none"/>
                            <path d="M8 7H16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            <path d="M8 12H16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            <path d="M8 17H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        <span>Publications</span>
                    </a>
                </nav>
                
                <!-- Mobile Social Media -->
                <div class="mobile-social">
                    <div class="mobile-social-title">Connect</div>
                    <div class="mobile-social-grid">
                        <a href="{{site.github}}" class="mobile-social-link" aria-label="GitHub">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="{{site.google-scholar}}" class="mobile-social-link" aria-label="Google Scholar">
                            <i class="fas fa-graduation-cap"></i>
                        </a>
                        <a href="{{site.linkedin}}" class="mobile-social-link" aria-label="LinkedIn">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="{{site.bluesky}}" class="mobile-social-link" aria-label="Bluesky">
                            <i class="fas fa-feather"></i>
                        </a>
                        <a href="{{site.twitter}}" class="mobile-social-link" aria-label="X">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Mobile Theme Toggle -->
                <div class="mobile-theme-toggle">
                    <span>Theme</span>
                    <div class="theme-switch">
                        <span class="theme-label">Light</span>
                        <div class="theme-slider">
                            <div class="theme-knob"></div>
                        </div>
                        <span class="theme-label">Dark</span>
                    </div>
                </div>
            </div>
            
            <!-- Cosmic Blue Particles in Mobile Menu -->
            <div class="mobile-particles"></div>
        </div>
    </div>
    
    <!-- Progress Indicator (Thin Metallic Line) -->
    <div class="progress-indicator">
        <div class="progress-bar"></div>
    </div>
</header>

<!-- Interaction Scripts -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Theme Toggle
        const themeToggle = document.querySelector('.theme-toggle');
        const mobileThemeToggle = document.querySelector('.theme-slider');
        
        themeToggle?.addEventListener('click', function() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });
        
        mobileThemeToggle?.addEventListener('click', function() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });
        
        // Social Media Toggle
        const socialToggle = document.querySelector('.social-toggle-btn');
        const socialDropdown = document.querySelector('.social-dropdown');
        
        socialToggle?.addEventListener('click', function() {
            const expanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', !expanded);
            socialDropdown?.setAttribute('aria-hidden', expanded);
            socialDropdown?.classList.toggle('visible');
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            if (socialDropdown?.classList.contains('visible') && 
                !event.target.closest('.social-toggle')) {
                socialDropdown.classList.remove('visible');
                socialToggle?.setAttribute('aria-expanded', 'false');
                socialDropdown?.setAttribute('aria-hidden', 'true');
            }
        });
        
        // Hamburger Menu
        const hamburger = document.querySelector('.hamburger');
        const mobileMenu = document.querySelector('.mobile-menu');
        const mobileClose = document.querySelector('.mobile-close');
        
        hamburger?.addEventListener('click', function() {
            const expanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', !expanded);
            mobileMenu?.setAttribute('aria-hidden', expanded);
            mobileMenu?.classList.toggle('active');
            document.body.style.overflow = expanded ? '' : 'hidden';
        });
        
        mobileClose?.addEventListener('click', function() {
            hamburger?.setAttribute('aria-expanded', 'false');
            mobileMenu?.setAttribute('aria-hidden', 'true');
            mobileMenu?.classList.remove('active');
            document.body.style.overflow = '';
        });
        
        // Cosmic Blue Particle Interactions
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
            link.addEventListener('mouseenter', function() {
                const theme = this.getAttribute('data-hover');
                // Trigger particle animation based on theme
                if (window.particleInteractions) {
                    window.particleInteractions.triggerHover(theme);
                }
            });
        });
        
        // Progress Indicator
        window.addEventListener('scroll', function() {
            const progressBar = document.querySelector('.progress-bar');
            if (progressBar) {
                const scrollTop = window.pageYOffset;
                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercent = (scrollTop / docHeight) * 100;
                progressBar.style.width = scrollPercent + '%';
            }
        });
    });
</script>